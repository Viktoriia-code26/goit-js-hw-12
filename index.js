import{a as P,S,i as s}from"./assets/vendor-LK6CqzKq.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();const v="51769269-403519ddb75627d5d460176b7",M="https://pixabay.com/api/",B=15;async function p(r,t){return(await P.get(M,{params:{key:v,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:B}})).data}const R=document.querySelector(".gallery"),m=document.querySelector(".loader"),g=document.querySelector(".btn"),h=new S(".gallery a",{captionsData:"alt",captionDelay:250});function y(r){return r.map(({webformatURL:t,largeImageURL:i,tags:l,likes:e,views:o,comments:c,downloads:w})=>`
      <li class="gallery-item">
        <a href="${i}">
          <img src="${t}" alt="${l}" loading="lazy"/>
        </a>
        <div class="info">
           <p><b>Likes:</b> ${e}</p>
          <p><b>Views:</b> ${o}</p>
          <p><b>Comments:</b> ${c}</p>
          <p><b>Downloads:</b> ${w}</p>
        </div>
      </li>
    `).join("")}function q(){R.innerHTML=""}function b(){m.classList.remove("hidden")}function u(){m.classList.add("hidden")}function $(){g.classList.remove("hidden")}function x(){g.classList.add("hidden")}const d={formEl:document.querySelector(".form"),ulElem:document.querySelector(".gallery"),loaderMoreBtn:document.querySelector(".btn")};let f="",a,n=0,I=15;d.formEl.addEventListener("submit",async r=>{if(r.preventDefault(),a=1,b(),f=r.target.elements["search-text"].value.trim(),!f){s.error({title:"Error",message:"Please fill in the field",position:"topRight",color:"red"}),u();return}try{const t=await p(f,a);if(q(),t.hits.length===0){s.info({title:"Info",message:"Nothing found for your query.",position:"topRight"}),u();return}const i=y(t.hits);d.ulElem.innerHTML=i,h.refresh(),n=Math.ceil(t.totalHits/I)}catch(t){console.error(t),n=0,s.error({title:"Error",message:"Something went wrong!",position:"topRight",color:"red"})}L(),E(),u(),r.target.reset()});d.loaderMoreBtn.addEventListener("click",async()=>{var r;a+=1,b(),L(),E();try{const t=await p(f,a),i=y(t.hits);d.ulElem.insertAdjacentHTML("beforeend",i);const l=((r=d.ulElem.firstElementChild)==null?void 0:r.getBoundingClientRect().height)||300;window.scrollBy({top:l*2,behavior:"smooth"}),h.refresh()}catch{s.error({title:"Error",message:"Error",position:"topRight",color:"red"})}u()});function L(){a<n?$():x()}function E(){a===1&&n!==0?s.info({title:"Info",message:`MaxPage - ${n}`,position:"topRight"}):n===0?s.info({title:"Info",message:"Nothing found",position:"topRight"}):a===n&&s.info({title:"Info",message:"This is the last page",position:"topRight"})}
//# sourceMappingURL=index.js.map
